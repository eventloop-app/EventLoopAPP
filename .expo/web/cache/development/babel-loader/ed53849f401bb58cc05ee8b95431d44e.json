{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _EventCard = _interopRequireDefault(require(\"../components/EventCard\"));\n\nvar _eventsService = _interopRequireDefault(require(\"../services/eventsService\"));\n\nvar _bottomTabs = require(\"@react-navigation/bottom-tabs\");\n\nvar _native = require(\"@react-navigation/native\");\n\nvar _Colors = _interopRequireDefault(require(\"../constants/Colors\"));\n\nvar _Fonts = _interopRequireDefault(require(\"../constants/Fonts\"));\n\nvar _FontSize = _interopRequireDefault(require(\"../constants/FontSize\"));\n\nvar _Ionicons = _interopRequireDefault(require(\"@expo/vector-icons/Ionicons\"));\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\APIWATSRINUKUL\\\\Desktop\\\\EventLoopAPP\\\\screens\\\\FeedScreen.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar FeedScreen = function FeedScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useState = (0, _react.useState)(true),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      eventId = _useState4[0],\n      setEventId = _useState4[1];\n\n  var _useState5 = (0, _react.useState)([]),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      events = _useState6[0],\n      setEvent = _useState6[1];\n\n  var _useState7 = (0, _react.useState)(false),\n      _useState8 = (0, _slicedToArray2.default)(_useState7, 2),\n      isVisible = _useState8[0],\n      setIsVisible = _useState8[1];\n\n  (0, _react.useEffect)(function () {\n    getEvent();\n  }, []);\n\n  var getEvent = function () {\n    var _ref2 = (0, _asyncToGenerator2.default)(function* () {\n      _eventsService.default.getEventAll().then(function (res) {\n        setEvent(res.data.content);\n      }).catch(function (error) {\n        console.log('get_all_event: ' + error.message);\n        alert('ผิดพลาดดด \\n' + error.message);\n      });\n\n      yield setIsLoading(false);\n    });\n\n    return function getEvent() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 1,\n      backgroundColor: 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, isLoading ? null : _react.default.createElement(_reactNative.View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }), _react.default.createElement(_reactNative.View, {\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      width: '100%',\n      height: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    style: {\n      flex: 0.7,\n      alignItems: 'flex-start',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.textTitle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, \"\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E17\\u0E35\\u0E48\\u0E01\\u0E33\\u0E25\\u0E31\\u0E07\\u0E08\\u0E30\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E40\\u0E23\\u0E47\\u0E27\\u0E46\\u0E19\\u0E35\\u0E49\")), _react.default.createElement(_reactNative.View, {\n    onTouchEnd: function onTouchEnd() {\n      return navigation.navigate('EventList', {\n        name: 'รายการกิจกรรมที่ลงทะเบียน'\n      });\n    },\n    style: {\n      flex: 0.3,\n      flexDirection: 'row',\n      justifyContent: 'flex-end',\n      alignItems: 'center',\n      marginRight: 10\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 15\n    }\n  }, _react.default.createElement(_reactNative.Text, {\n    style: styles.textMore,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, \"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E15\\u0E34\\u0E21\"), _react.default.createElement(_Ionicons.default, {\n    name: 'play',\n    color: _Colors.default.black,\n    size: 10,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }))), _react.default.createElement(_reactNative.FlatList, {\n    data: events,\n    renderItem: function renderItem(_ref3) {\n      var item = _ref3.item;\n      return _react.default.createElement(_EventCard.default, {\n        item: item,\n        onPress: function onPress() {\n          return navigation.navigate('EventDetail', {\n            item: item,\n            name: item.eventName\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 42\n        }\n      });\n    },\n    keyExtractor: function keyExtractor(item) {\n      return item.id;\n    },\n    extraData: eventId,\n    showsHorizontalScrollIndicator: false,\n    horizontal: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  })));\n};\n\nvar styles = _reactNative.StyleSheet.create({\n  container: {\n    marginTop: 100,\n    flex: 1\n  },\n  textTitle: {\n    fontFamily: _Fonts.default.bold,\n    fontSize: _FontSize.default.primary,\n    color: _Colors.default.black,\n    marginLeft: 10\n  },\n  textMore: {\n    fontFamily: _Fonts.default.primary,\n    fontSize: _FontSize.default.small,\n    color: _Colors.default.black,\n    marginRight: 3\n  },\n  header: {\n    position: 'relative',\n    display: 'flex',\n    width: '100%',\n    height: 100,\n    backgroundColor: _Colors.default.primary,\n    borderBottomEndRadius: 30,\n    borderBottomStartRadius: 30,\n    marginBottom: 10\n  }\n});\n\nvar _default = FeedScreen;\nexports.default = _default;","map":{"version":3,"names":["FeedScreen","route","navigation","useState","isLoading","setIsLoading","eventId","setEventId","events","setEvent","isVisible","setIsVisible","useEffect","getEvent","eventsService","getEventAll","then","res","data","content","catch","error","console","log","message","alert","flex","backgroundColor","styles","header","display","flexDirection","width","height","alignItems","justifyContent","textTitle","navigate","name","marginRight","textMore","Colors","black","item","eventName","id","StyleSheet","create","container","marginTop","fontFamily","Fonts","bold","fontSize","FontSize","primary","color","marginLeft","small","position","borderBottomEndRadius","borderBottomStartRadius","marginBottom"],"sources":["C:/Users/APIWATSRINUKUL/Desktop/EventLoopAPP/screens/FeedScreen.js"],"sourcesContent":["import { FlatList, SafeAreaView, StyleSheet, Text, View } from \"react-native\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport EventCard from \"../components/EventCard\";\r\nimport eventsService from \"../services/eventsService\";\r\nimport { createBottomTabNavigator } from \"@react-navigation/bottom-tabs\";\r\nimport { useFocusEffect } from '@react-navigation/native'\r\nimport Colors from \"../constants/Colors\";\r\nimport Fonts from \"../constants/Fonts\";\r\nimport FontSize from \"../constants/FontSize\";\r\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\r\n\r\nconst FeedScreen = ({ route, navigation }) => {\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [eventId, setEventId] = useState(true)\r\n  const [events, setEvent] = useState([])\r\n  const [isVisible, setIsVisible] = useState(false)\r\n\r\n  // useFocusEffect(\r\n  //   useCallback(() => {\r\n  //     setIsVisible(true)\r\n  //     console.log('true')\r\n  //     return () => {\r\n  //       setIsVisible(false)\r\n  //       console.log('false')\r\n  //     }\r\n  //   }, [])\r\n  // )\r\n\r\n  //ดึง Event ทั่งหมด\r\n  useEffect(() => {\r\n    getEvent()\r\n  }, [])\r\n\r\n  const getEvent = async () => {\r\n    eventsService.getEventAll().then(res => {\r\n      setEvent(res.data.content)\r\n    }).catch(error => {\r\n      console.log('get_all_event: ' + error.message)\r\n      alert('ผิดพลาดดด \\n' + error.message)\r\n    })\r\n    await setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1, backgroundColor: 'white' }}>\r\n      {\r\n        isLoading ? null :\r\n          <View>\r\n            <View style={styles.header}>\r\n              {/*something*/}\r\n            </View>\r\n            <View style={{ display: 'flex', flexDirection: 'row', width: '100%', height: 30 }}>\r\n              <View style={{ flex: 0.7, alignItems: 'flex-start', justifyContent: 'center' }}>\r\n                <Text style={styles.textTitle}>กิจกรรมที่กำลังจะเริ่มเร็วๆนี้</Text>\r\n              </View>\r\n              <View onTouchEnd={() => navigation.navigate('EventList', { name: 'รายการกิจกรรมที่ลงทะเบียน' })} style={{ flex: 0.3, flexDirection: 'row', justifyContent: 'flex-end', alignItems: 'center', marginRight: 10 }}>\r\n                <Text style={styles.textMore}>\r\n                  เพิ่มเติม\r\n                </Text>\r\n                <Ionicons name={'play'} color={Colors.black} size={10} />\r\n              </View>\r\n            </View>\r\n            <FlatList\r\n              data={events}\r\n              renderItem={({ item }) => (<EventCard item={item} onPress={() => navigation.navigate('EventDetail', {\r\n                item: item,\r\n                name: item.eventName\r\n              })} />)}\r\n              keyExtractor={(item) => item.id}\r\n              extraData={eventId}\r\n              showsHorizontalScrollIndicator={false}\r\n              horizontal={true}\r\n            />\r\n          </View>\r\n      }\r\n    </View>\r\n  )\r\n}\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    marginTop: 100,\r\n    flex: 1,\r\n  },\r\n  textTitle: {\r\n    fontFamily: Fonts.bold,\r\n    fontSize: FontSize.primary,\r\n    color: Colors.black,\r\n    marginLeft: 10,\r\n  },\r\n  textMore: {\r\n    fontFamily: Fonts.primary,\r\n    fontSize: FontSize.small,\r\n    color: Colors.black,\r\n    marginRight: 3,\r\n  },\r\n  header: {\r\n    position: 'relative',\r\n    display: 'flex',\r\n    width: '100%',\r\n    height: 100,\r\n    backgroundColor: Colors.primary,\r\n    borderBottomEndRadius: 30,\r\n    borderBottomStartRadius: 30,\r\n    marginBottom: 10\r\n  },\r\n});\r\nexport default FeedScreen;\r\n"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;AAEA,IAAMA,UAAU,GAAG,SAAbA,UAAa,OAA2B;EAAA,IAAxBC,KAAwB,QAAxBA,KAAwB;EAAA,IAAjBC,UAAiB,QAAjBA,UAAiB;;EAC5C,gBAAkC,IAAAC,eAAA,EAAS,IAAT,CAAlC;EAAA;EAAA,IAAOC,SAAP;EAAA,IAAkBC,YAAlB;;EACA,iBAA8B,IAAAF,eAAA,EAAS,IAAT,CAA9B;EAAA;EAAA,IAAOG,OAAP;EAAA,IAAgBC,UAAhB;;EACA,iBAA2B,IAAAJ,eAAA,EAAS,EAAT,CAA3B;EAAA;EAAA,IAAOK,MAAP;EAAA,IAAeC,QAAf;;EACA,iBAAkC,IAAAN,eAAA,EAAS,KAAT,CAAlC;EAAA;EAAA,IAAOO,SAAP;EAAA,IAAkBC,YAAlB;;EAcA,IAAAC,gBAAA,EAAU,YAAM;IACdC,QAAQ;EACT,CAFD,EAEG,EAFH;;EAIA,IAAMA,QAAQ;IAAA,4CAAG,aAAY;MAC3BC,sBAAA,CAAcC,WAAd,GAA4BC,IAA5B,CAAiC,UAAAC,GAAG,EAAI;QACtCR,QAAQ,CAACQ,GAAG,CAACC,IAAJ,CAASC,OAAV,CAAR;MACD,CAFD,EAEGC,KAFH,CAES,UAAAC,KAAK,EAAI;QAChBC,OAAO,CAACC,GAAR,CAAY,oBAAoBF,KAAK,CAACG,OAAtC;QACAC,KAAK,CAAC,iBAAiBJ,KAAK,CAACG,OAAxB,CAAL;MACD,CALD;;MAMA,MAAMnB,YAAY,CAAC,KAAD,CAAlB;IACD,CARa;;IAAA,gBAARQ,QAAQ;MAAA;IAAA;EAAA,GAAd;;EAUA,OACE,6BAAC,iBAAD;IAAM,KAAK,EAAE;MAAEa,IAAI,EAAE,CAAR;MAAWC,eAAe,EAAE;IAA5B,CAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEIvB,SAAS,GAAG,IAAH,GACP,6BAAC,iBAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,6BAAC,iBAAD;IAAM,KAAK,EAAEwB,MAAM,CAACC,MAApB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,EAIE,6BAAC,iBAAD;IAAM,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAX;MAAmBC,aAAa,EAAE,KAAlC;MAAyCC,KAAK,EAAE,MAAhD;MAAwDC,MAAM,EAAE;IAAhE,CAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,6BAAC,iBAAD;IAAM,KAAK,EAAE;MAAEP,IAAI,EAAE,GAAR;MAAaQ,UAAU,EAAE,YAAzB;MAAuCC,cAAc,EAAE;IAAvD,CAAb;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,6BAAC,iBAAD;IAAM,KAAK,EAAEP,MAAM,CAACQ,SAApB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,0LADF,CADF,EAIE,6BAAC,iBAAD;IAAM,UAAU,EAAE;MAAA,OAAMlC,UAAU,CAACmC,QAAX,CAAoB,WAApB,EAAiC;QAAEC,IAAI,EAAE;MAAR,CAAjC,CAAN;IAAA,CAAlB;IAAiG,KAAK,EAAE;MAAEZ,IAAI,EAAE,GAAR;MAAaK,aAAa,EAAE,KAA5B;MAAmCI,cAAc,EAAE,UAAnD;MAA+DD,UAAU,EAAE,QAA3E;MAAqFK,WAAW,EAAE;IAAlG,CAAxG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACE,6BAAC,iBAAD;IAAM,KAAK,EAAEX,MAAM,CAACY,QAApB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,4DADF,EAIE,6BAAC,iBAAD;IAAU,IAAI,EAAE,MAAhB;IAAwB,KAAK,EAAEC,eAAA,CAAOC,KAAtC;IAA6C,IAAI,EAAE,EAAnD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAJF,CAJF,CAJF,EAeE,6BAAC,qBAAD;IACE,IAAI,EAAElC,MADR;IAEE,UAAU,EAAE;MAAA,IAAGmC,IAAH,SAAGA,IAAH;MAAA,OAAe,6BAAC,kBAAD;QAAW,IAAI,EAAEA,IAAjB;QAAuB,OAAO,EAAE;UAAA,OAAMzC,UAAU,CAACmC,QAAX,CAAoB,aAApB,EAAmC;YAClGM,IAAI,EAAEA,IAD4F;YAElGL,IAAI,EAAEK,IAAI,CAACC;UAFuF,CAAnC,CAAN;QAAA,CAAhC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAf;IAAA,CAFd;IAME,YAAY,EAAE,sBAACD,IAAD;MAAA,OAAUA,IAAI,CAACE,EAAf;IAAA,CANhB;IAOE,SAAS,EAAEvC,OAPb;IAQE,8BAA8B,EAAE,KARlC;IASE,UAAU,EAAE,IATd;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAfF,CAHN,CADF;AAkCD,CAlED;;AAmEA,IAAMsB,MAAM,GAAGkB,uBAAA,CAAWC,MAAX,CAAkB;EAC/BC,SAAS,EAAE;IACTC,SAAS,EAAE,GADF;IAETvB,IAAI,EAAE;EAFG,CADoB;EAK/BU,SAAS,EAAE;IACTc,UAAU,EAAEC,cAAA,CAAMC,IADT;IAETC,QAAQ,EAAEC,iBAAA,CAASC,OAFV;IAGTC,KAAK,EAAEf,eAAA,CAAOC,KAHL;IAITe,UAAU,EAAE;EAJH,CALoB;EAW/BjB,QAAQ,EAAE;IACRU,UAAU,EAAEC,cAAA,CAAMI,OADV;IAERF,QAAQ,EAAEC,iBAAA,CAASI,KAFX;IAGRF,KAAK,EAAEf,eAAA,CAAOC,KAHN;IAIRH,WAAW,EAAE;EAJL,CAXqB;EAiB/BV,MAAM,EAAE;IACN8B,QAAQ,EAAE,UADJ;IAEN7B,OAAO,EAAE,MAFH;IAGNE,KAAK,EAAE,MAHD;IAINC,MAAM,EAAE,GAJF;IAKNN,eAAe,EAAEc,eAAA,CAAOc,OALlB;IAMNK,qBAAqB,EAAE,EANjB;IAONC,uBAAuB,EAAE,EAPnB;IAQNC,YAAY,EAAE;EARR;AAjBuB,CAAlB,CAAf;;eA4Be9D,U"},"metadata":{},"sourceType":"script"}