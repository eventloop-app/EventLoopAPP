{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactRedux = require(\"react-redux\");\n\nvar _user = require(\"../actions/user\");\n\nvar _decode = _interopRequireDefault(require(\"../services/decode\"));\n\nvar _eventsService = _interopRequireDefault(require(\"../services/eventsService\"));\n\nvar _EventCardList = _interopRequireDefault(require(\"../components/EventCardList\"));\n\nvar _Colors = _interopRequireDefault(require(\"../constants/Colors\"));\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\APIWATSRINUKUL\\\\Desktop\\\\EventLoopAPP\\\\screens\\\\CreatedEventListScreen.js\";\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nvar CreatedEventListScreen = function CreatedEventListScreen(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var dispatch = (0, _reactRedux.useDispatch)();\n\n  var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      userData = _useState2[0],\n      setUserData = _useState2[1];\n\n  var _useState3 = (0, _react.useState)([]),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      event = _useState4[0],\n      setEvent = _useState4[1];\n\n  var _useSelector = (0, _reactRedux.useSelector)(function (state) {\n    return state.user;\n  }),\n      userToken = _useSelector.userToken,\n      userError = _useSelector.userError;\n\n  (0, _react.useEffect)(function () {\n    dispatch((0, _user.getUserToken)());\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (userToken !== null) {\n      var idToken = JSON.parse(userToken).idToken;\n\n      var user = _decode.default.jwt(idToken);\n\n      setUserData(user);\n    }\n\n    if (userError) {\n      console.log(\"userTokenErrorr : \" + userError);\n    }\n  }, [userToken]);\n  (0, _react.useEffect)(function () {\n    getEvent();\n  }, [userData]);\n\n  var getEvent = function getEvent() {\n    if (userData !== null) {\n      _eventsService.default.getEventByOrganizerId(userData.memberId).then(function (res) {\n        if (res.status === 200) {\n          setEvent(res.data);\n        }\n      });\n    }\n  };\n\n  return _react.default.createElement(_reactNative.SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: _Colors.default.white\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNative.FlatList, {\n    data: event,\n    renderItem: function renderItem(item) {\n      return _react.default.createElement(_EventCardList.default, {\n        item: item,\n        onPress: function onPress() {\n          return navigation.navigate('ManageEvent', item);\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 39\n        }\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar _default = CreatedEventListScreen;\nexports.default = _default;","map":{"version":3,"names":["CreatedEventListScreen","route","navigation","dispatch","useDispatch","useState","userData","setUserData","event","setEvent","useSelector","state","user","userToken","userError","useEffect","getUserToken","idToken","JSON","parse","decode","jwt","console","log","getEvent","eventsService","getEventByOrganizerId","memberId","then","res","status","data","flex","backgroundColor","Colors","white","item","navigate"],"sources":["C:/Users/APIWATSRINUKUL/Desktop/EventLoopAPP/screens/CreatedEventListScreen.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {Button, FlatList, SafeAreaView, ScrollView, Text,} from \"react-native\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getUserToken} from \"../actions/user\";\r\nimport decode from \"../services/decode\";\r\nimport eventsService from \"../services/eventsService\";\r\nimport EventCardList from \"../components/EventCardList\";\r\nimport Colors from \"../constants/Colors\";\r\n\r\nconst CreatedEventListScreen = ({route, navigation}) => {\r\n    const dispatch = useDispatch();\r\n    const [userData, setUserData] = useState(null)\r\n    const [event, setEvent] = useState([])\r\n    const { userToken, userError } = useSelector(state => state.user)\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(getUserToken())\r\n    }, [])\r\n\r\n    useEffect(()=> {\r\n        if (userToken !== null) {\r\n            const idToken = JSON.parse(userToken).idToken\r\n            const user = decode.jwt(idToken)\r\n            setUserData(user)\r\n        }\r\n        if (userError){\r\n            console.log(\"userTokenErrorr : \" + userError)\r\n        }\r\n    }, [userToken])\r\n\r\n    useEffect( ()=> {\r\n        getEvent()\r\n    }, [userData])\r\n\r\n    const getEvent = () => {\r\n        if(userData !== null) {\r\n            eventsService.getEventByOrganizerId(userData.memberId).then(res => {\r\n                if(res.status === 200){\r\n                    setEvent(res.data)\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <SafeAreaView style={{flex: 1, backgroundColor: Colors.white}}>\r\n            <FlatList\r\n                data={event}\r\n                renderItem={(item) => <EventCardList item={item} onPress={ ()=> navigation.navigate('ManageEvent', item)}/>}\r\n            />\r\n            {/*<Button title={'go to manage screen'} onPress={()=> navigation.navigate('ManageEvent')}/>*/}\r\n        </SafeAreaView>\r\n    );\r\n};\r\n\r\nexport default CreatedEventListScreen;\r\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;AAEA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,OAAyB;EAAA,IAAvBC,KAAuB,QAAvBA,KAAuB;EAAA,IAAhBC,UAAgB,QAAhBA,UAAgB;EACpD,IAAMC,QAAQ,GAAG,IAAAC,uBAAA,GAAjB;;EACA,gBAAgC,IAAAC,eAAA,EAAS,IAAT,CAAhC;EAAA;EAAA,IAAOC,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAA0B,IAAAF,eAAA,EAAS,EAAT,CAA1B;EAAA;EAAA,IAAOG,KAAP;EAAA,IAAcC,QAAd;;EACA,mBAAiC,IAAAC,uBAAA,EAAY,UAAAC,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAV;EAAA,CAAjB,CAAjC;EAAA,IAAQC,SAAR,gBAAQA,SAAR;EAAA,IAAmBC,SAAnB,gBAAmBA,SAAnB;;EAGA,IAAAC,gBAAA,EAAU,YAAM;IACZZ,QAAQ,CAAC,IAAAa,kBAAA,GAAD,CAAR;EACH,CAFD,EAEG,EAFH;EAIA,IAAAD,gBAAA,EAAU,YAAK;IACX,IAAIF,SAAS,KAAK,IAAlB,EAAwB;MACpB,IAAMI,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWN,SAAX,EAAsBI,OAAtC;;MACA,IAAML,IAAI,GAAGQ,eAAA,CAAOC,GAAP,CAAWJ,OAAX,CAAb;;MACAV,WAAW,CAACK,IAAD,CAAX;IACH;;IACD,IAAIE,SAAJ,EAAc;MACVQ,OAAO,CAACC,GAAR,CAAY,uBAAuBT,SAAnC;IACH;EACJ,CATD,EASG,CAACD,SAAD,CATH;EAWA,IAAAE,gBAAA,EAAW,YAAK;IACZS,QAAQ;EACX,CAFD,EAEG,CAAClB,QAAD,CAFH;;EAIA,IAAMkB,QAAQ,GAAG,SAAXA,QAAW,GAAM;IACnB,IAAGlB,QAAQ,KAAK,IAAhB,EAAsB;MAClBmB,sBAAA,CAAcC,qBAAd,CAAoCpB,QAAQ,CAACqB,QAA7C,EAAuDC,IAAvD,CAA4D,UAAAC,GAAG,EAAI;QAC/D,IAAGA,GAAG,CAACC,MAAJ,KAAe,GAAlB,EAAsB;UAClBrB,QAAQ,CAACoB,GAAG,CAACE,IAAL,CAAR;QACH;MACJ,CAJD;IAKH;EACJ,CARD;;EAUA,OACI,6BAAC,yBAAD;IAAc,KAAK,EAAE;MAACC,IAAI,EAAE,CAAP;MAAUC,eAAe,EAAEC,eAAA,CAAOC;IAAlC,CAArB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACI,6BAAC,qBAAD;IACI,IAAI,EAAE3B,KADV;IAEI,UAAU,EAAE,oBAAC4B,IAAD;MAAA,OAAU,6BAAC,sBAAD;QAAe,IAAI,EAAEA,IAArB;QAA2B,OAAO,EAAG;UAAA,OAAKlC,UAAU,CAACmC,QAAX,CAAoB,aAApB,EAAmCD,IAAnC,CAAL;QAAA,CAArC;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAV;IAAA,CAFhB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADJ,CADJ;AASH,CA7CD;;eA+CepC,sB"},"metadata":{},"sourceType":"script"}